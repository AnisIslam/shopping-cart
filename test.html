<!DOCTYPE html>
<html>

<head>
    <title>Test Shopping Cart</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>

<body>

    <section>
        <div class="container">
            <div class="cart">
                <div class="col-md-12 col-lg-10 mx-auto">
                    <div class="cart-item">
                        <div class="row">
                            <div class="col-md-7 center-item">
                                <img src="images/product-1.png" alt="">
                                <h5>iPhone 11 128GB Black</h5>
                            </div>

                            <div class="col-md-5 center-item">
                                <div class="input-group number-spinner">
                                    <button id="phoneMinusButton" class="btn btn-default"><i
                                            class="fas fa-minus"></i></button>
                                    <input id="phoneNumber" type="text" class="form-control text-center" value="1">
                                    <button id="phonePlusButton" class="btn btn-default"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                                <h5>$<span id="phonePrice">1250</span></h5>
                                <img src="images/remove.png" alt="" class="remove-item">
                            </div>
                        </div>
                    </div>

                    <div class="cart-item">
                        <div class="row">
                            <div class="col-md-7 center-item mx-auto">
                                <img src="images/product-2.png" alt="">
                                <h5>iPhone 11 Silicone Case - Black</h5>
                            </div>
                            <div class="col-md-5 center-item">
                                <div class="input-group number-spinner">
                                    <button id="secondMinusButton" class="btn btn-default"><i
                                            class="fas fa-minus"></i></button>
                                    <input id="casingNumber" type="text" class="form-control text-center" value="1">
                                    <button id="secondPlusButton" class="btn btn-default"><i
                                            class="fas fa-plus"></i></button>

                                </div>
                                <h5>$<span id="casingPrice">59</span></h5>
                                <img src="images/remove.png" alt="" class="remove-item">
                            </div>
                        </div>
                    </div>

                    <div class="cart-item">
                        <div class="row">

                            <div class="col-md-8">
                                <h5>Subtotal: </h5>
                                <h5>Tax:</h5>
                                <h5>Total:</h5>
                            </div>

                            <div class="col-md-4 status">
                                <h5>$<span id="subTotalPrice">1,278</span> </h5>
                                <h5>$<span id="taxAmount">0</span></h5>
                                <h5>$<span id="totalPrice">1,278</span></h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 pt-4 pb-4">
                        <button type="button" class="btn btn-success check-out">Check Out</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- javascript section -->
    <script>
        //For Plus Button
        const plusButton = document.getElementById('phonePlusButton');
        plusButton.addEventListener('click', function () {
            updateCartNumber('phoneNumber', 1);
            updatePrice('phonePrice', 1250);
            updateTotalPrice('subTotalPrice', 1250);
            taxCalculation();

        

        })
        //For Minus Button
        const minusButton = document.getElementById('phoneMinusButton');
        minusButton.addEventListener('click', function () {
            updateCartNumber('phoneNumber', -1);
            updatePrice('phonePrice', -1250);
            updateTotalPrice('subTotalPrice', -1250);
            taxCalculation();

        
        })
        function updateCartNumber(id, counter) {
            document.getElementById(id).value = parseFloat(document.getElementById(id).value) + counter;
            // const getCurrentPhoneNumber = document.getElementById(id).value;
            // const getCurrentPhoneNumberFloat = parseFloat(getCurrentPhoneNumber);
            // const updatedCurrentPhoneNumber = getCurrentPhoneNumberFloat + counter;
            // document.getElementById(id).value = updatedCurrentPhoneNumber;

        }
        function updatePrice(id, price) {
            document.getElementById(id).innerText = parseFloat(document.getElementById(id).innerText) + price;
            // const getCurrentTotalPhonePrice = document.getElementById(id).innerText;
            // const getCurrentTotalPhonePriceFloat = parseFloat(getCurrentTotalPhonePrice);
            // const updateTotalPhonePrice = getCurrentTotalPhonePriceFloat + price;
            // document.getElementById(id).innerText = updateTotalPhonePrice;

        }
        function updateTotalPrice(id, price) {
            document.getElementById(id).innerText = parseFloat(document.getElementById(id).innerText.replace(/,/g, '')) + price;
            // const getCurrentGrossPhonePrice = document.getElementById(id).innerText;
            // const getCurrentGrossPhonePriceFloat = parseFloat(getCurrentGrossPhonePrice.replace(/,/g, ''));
            // const updateGrossPhonePrice = getCurrentGrossPhonePriceFloat + price;
            // document.getElementById(id).innerText = updateGrossPhonePrice;

        }
        function taxCalculation(tax){
            tax = parseFloat(document.getElementById('subTotalPrice').innerText.replace(/,/g, '')) * 0.15;
            document.getElementById('taxAmount').innerText = tax.toFixed(1)
        }




        // For Casing section

        //For Minus Button
        const secondMinusButton = document.getElementById('secondMinusButton');
        secondMinusButton.addEventListener('click', function () {

            updateCartNumber('casingNumber', -1);
            updatePrice('casingPrice', -59);
            updateTotalPrice('subTotalPrice', -59);
            taxCalculation();

        })

        //For Plus Button
        const secondPlusButton = document.getElementById('secondPlusButton');
        secondPlusButton.addEventListener('click', function () {

            updateCartNumber('casingNumber', 1);
            updatePrice('casingPrice', 59);
            updateTotalPrice('subTotalPrice', 59);
            taxCalculation();
        })


    </script>
    <!-- <script src="jsmain.js"></script> -->


    <script src="js/bootstrap.bundle.min.js"></script>
</body>

</html>